<!DOCTYPE html>

<!-- Source: https://hackernoon.com/understanding-basic-image-processing-algorithms-a-hands-on-javascript-tutorial-8r3u32qk -->
<!-- Save button: https://fjolt.com/article/html-canvas-save-as-image -->

<html lang="en">
<head>
    <meta name="description" content="Edit your image using JavaScript (*・ω・)ﾉ">
    <title>JavaScript Image Editor</title>
    <style>
        body{
            background-color: black;
            color: white;
        }
        textarea{
            font-family: "Comic Mono";
        }
        code{
            font-family: "Comic Mono";
        }
        @font-face{
            font-family: 'Comic Mono';
            src: url("../../fonts/ComicMono.ttf");
        }
    </style>
</head>
<body>
<h1>JavaScript Image Editor</h1>

To create a new image, you will write a function called <code><b>setpixel(x,y)</b></code>. It should return an array of length 4, <code>[r,g,b,a]</code>, containing the RGBA values of pixel (x,y) in the new image (or length 3 for just RGB).<br/>

Note: RGBA values are from 0 to 255.

<p>Parameters:</p>

<code>x</code> → x-coordinate of the pixel<br/>
<code>y</code> → y-coordinate of the pixel<br/>

<p>Available functions:</p>

<code>pixel(x,y)</code> → returns the RGBA value of the pixel at position (x,y) as an array <code>[r,g,b,a]</code><br/>

<p>Extra variables:</p>

<code>r</code> → R value of <code>pixel(x,y)</code><br/>
<code>g</code> → G value of <code>pixel(x,y)</code><br/>
<code>b</code> → B value of <code>pixel(x,y)</code><br/>
<code>a</code> → A value of <code>pixel(x,y)</code><br/>
<br/>
<code>w</code> → image width</code><br/>
<code>h</code> → image height</code><br/>

<hr>

<input type="file" accept="image/*" id="fileinput" /><p/>
<label for="inputcode">Input your JavaScript below</label><br/>
<textarea id="inputcode" name="inputcode" rows="4" cols="50">function setpixel(x,y){
    return [r,g,b,a]
}</textarea>
<button onclick="applyCode()">Apply</button>
<button onclick="resetImage()">Reset</button>

<div id="loading"></div>

<canvas id="canvas" width="0" height="0"></canvas>

<br/>
<button onclick="saveImage()">Save Image</button>

<hr>

<div id="examplecodes"><p>Example codes:</p></div> <!-- will be filled in by preset.js -->

<script src="main.js"></script>
<script src="preset.js"></script>
</body>
</html>
